<template>
  <div v-if="isStart" class="play-page">
    <div class="play-header">
      <div class="bars">
        <ProgressBar name="Ecologie" v-bind:currentValue="this.envValue" v-bind:maxValue="100" ></ProgressBar>
        <ProgressBar name="Energie" v-bind:currentValue="50" v-bind:maxValue="100" ></ProgressBar>
      </div>
      <div class="round-number">
        <p>{{ roundValue }}</p>
      </div>
    </div>
    <div class="play-title">
      <h1>Ã€ vous de jouer</h1>
      <p>{{ player }}</p>
    </div>
    <div class="content">
      <router-view></router-view>
    </div>
    <div class="play-footer">
      <div class="biome-box">
        <p class="biome-info">Biome:</p>
        <div class="card-box">
          <div  class="card-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" width="250px" height="250px"><path d="M 30.402344 27.646484 C 29.01875 27.658789 27.750391 28.6 27.400391 30 C 27.300391 31.7 28.300391 33.299609 29.900391 33.599609 C 30.300391 33.699609 74.799609 43.600781 94.599609 88.800781 C 95.099609 89.900781 96.200781 90.599609 97.300781 90.599609 C 97.700781 90.599609 98.1 90.500781 98.5 90.300781 C 100 89.600781 100.7 87.900781 100 86.300781 C 96.5 78.300781 92.299219 71.400781 87.699219 65.300781 L 89.699219 64 C 91.099219 63.1 91.5 61.200781 90.5 59.800781 C 89.6 58.400781 87.700781 58 86.300781 59 L 83.900391 60.599609 C 80.000391 56.099609 75.900781 52.099219 71.800781 48.699219 L 73.400391 46.900391 C 74.500391 45.700391 74.399609 43.799219 73.099609 42.699219 C 71.899609 41.599219 70.000391 41.7 68.900391 43 L 67.099609 45.099609 C 61.799609 41.099609 56.499219 37.999609 51.699219 35.599609 L 52.699219 33.5 C 53.399219 32 52.800781 30.2 51.300781 29.5 C 49.800781 28.8 48.000781 29.400391 47.300781 30.900391 L 46.300781 33 C 37.800781 29.2 31.7 27.899219 31 27.699219 C 30.8 27.661719 30.6 27.644727 30.402344 27.646484 z M 26.601562 41.746094 C 25.219336 41.758398 23.961719 42.699609 23.699219 44.099609 L 9.0996094 114.40039 C 8.6996094 116.00039 9.8003906 117.60039 11.400391 117.90039 C 11.600391 117.90039 11.8 118 12 118 C 13.4 118 14.600391 116.99961 14.900391 115.59961 L 29.5 45.300781 C 29.8 43.700781 28.799219 42.100781 27.199219 41.800781 C 26.999219 41.763281 26.799023 41.744336 26.601562 41.746094 z M 110.69922 62.800781 C 109.19922 62.800781 107.80039 63.099609 106.40039 63.599609 C 103.30039 64.699609 100.80078 66.999609 99.300781 70.099609 C 97.900781 73.099609 97.700391 76.499219 98.900391 79.699219 C 100.70039 84.599219 105.39961 87.900391 110.59961 87.900391 C 112.09961 87.900391 113.50039 87.599609 114.90039 87.099609 C 121.40039 84.699609 124.80039 77.5 122.40039 71 C 120.60039 66.1 115.89922 62.800781 110.69922 62.800781 z M 110.69922 68.699219 C 111.89922 68.699219 113.09961 69.099219 114.09961 69.699219 L 111.90039 71.199219 C 110.50039 72.099219 110.09961 74.000391 111.09961 75.400391 C 111.69961 76.300391 112.59961 76.699219 113.59961 76.699219 C 114.19961 76.699219 114.70078 76.499219 115.30078 76.199219 L 117.30078 74.900391 C 117.30078 77.700391 115.70039 80.400391 112.90039 81.400391 C 112.20039 81.700391 111.39922 81.800781 110.69922 81.800781 C 107.99922 81.800781 105.49961 80.1 104.59961 77.5 C 103.99961 75.9 104.10078 74.1 104.80078 72.5 C 105.50078 70.9 106.8 69.699609 108.5 69.099609 C 109.2 68.799609 109.99922 68.699219 110.69922 68.699219 z M 108.24219 90.302734 C 107.8625 90.287109 107.47461 90.35 107.09961 90.5 L 99.599609 93.199219 C 98.899609 93.499219 98.200391 94.000781 97.900391 94.800781 C 97.600391 95.500781 97.500781 96.299609 97.800781 97.099609 L 104.5 115.90039 C 104.8 116.60039 105.29961 117.29961 106.09961 117.59961 C 106.49961 117.79961 106.90039 117.90039 107.40039 117.90039 C 107.70039 117.90039 108.10039 117.79922 108.40039 117.69922 L 115.90039 115 C 116.60039 114.7 117.29961 114.20039 117.59961 113.40039 C 117.89961 112.70039 117.99922 111.89961 117.69922 111.09961 L 110.90039 92.300781 C 110.45039 91.100781 109.38125 90.349609 108.24219 90.302734 z M 106.19922 97.199219 L 111 110.40039 L 109.09961 111.09961 L 104.30078 97.900391 L 106.19922 97.199219 z"/></svg></div>
          <div class="card-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="250px" height="250px"><path d="M 28.09375 0.03125 C 24.886719 0.03125 21.675781 0.742188 18.78125 2.09375 C 18.339844 2.300781 18.125 2.78125 18.25 3.25 C 18.375 3.71875 18.796875 4.046875 19.28125 4 C 19.304688 3.996094 19.632813 3.96875 20.1875 3.96875 C 22.597656 3.96875 31.046875 4.53125 38.3125 11.71875 C 46.941406 20.253906 46.011719 30.582031 46 30.6875 C 45.953125 31.171875 46.277344 31.621094 46.75 31.75 C 46.835938 31.773438 46.914063 31.8125 47 31.8125 C 47.382813 31.8125 47.738281 31.578125 47.90625 31.21875 C 51.207031 24.066406 50.371094 15.730469 46 9.40625 L 47.8125 7.59375 C 48.203125 7.203125 48.203125 6.578125 47.8125 6.1875 L 43.8125 2.1875 C 43.4375 1.8125 42.78125 1.8125 42.40625 2.1875 L 40.625 3.96875 C 36.988281 1.40625 32.644531 0.03125 28.09375 0.03125 Z M 33.9375 10.65625 L 0.28125 44.28125 C -0.109375 44.671875 -0.109375 45.328125 0.28125 45.71875 L 4.28125 49.71875 C 4.476563 49.914063 4.742188 50 5 50 C 5.257813 50 5.523438 49.914063 5.71875 49.71875 L 39.375 16.03125 C 38.65625 15.054688 37.859375 14.070313 36.90625 13.125 C 35.9375 12.167969 34.925781 11.375 33.9375 10.65625 Z"/></svg></div>
          <div class="card-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" width="256px" height="256px">    <path d="M 98.099609 1 A 3 3 0 0 0 95.099609 4 A 3 3 0 0 0 98.099609 7 A 3 3 0 0 0 101.09961 4 A 3 3 0 0 0 98.099609 1 z M 82.458984 4.6132812 C 82.068359 4.6320312 81.675781 4.7253906 81.300781 4.9003906 C 68.100781 11.400391 60.199609 24.600781 60.099609 38.800781 L 56.099609 34.800781 C 54.899609 33.600781 53.000391 33.600781 51.900391 34.800781 C 50.700391 36.000781 50.700391 37.9 51.900391 39 L 61.900391 49 C 62.500391 49.6 63.2 49.900391 64 49.900391 C 64.5 49.900391 65 49.8 65.5 49.5 C 65.7 49.4 65.999609 49.2 66.099609 49 L 76.099609 39 C 77.299609 37.8 77.299609 35.900781 76.099609 34.800781 C 74.899609 33.600781 73.000391 33.600781 71.900391 34.800781 L 66.099609 40.599609 C 65.499609 27.999609 72.300391 16.100781 83.900391 10.300781 C 85.400391 9.6007813 86.000781 7.8007812 85.300781 6.3007812 C 84.775781 5.1757812 83.630859 4.5570313 82.458984 4.6132812 z M 25 66 C 20 66 16 70 16 75 C 16 80 20 84 25 84 L 25.699219 84 L 29.900391 115.69922 C 30.700391 122.09922 36.300781 127 42.800781 127 L 85.300781 127 C 91.700781 127 97.299609 122.09922 98.099609 115.69922 L 102.30078 84 L 103 84 C 108 84 112 80 112 75 C 112 70 108 66 103 66 L 25 66 z M 25 72 L 103 72 C 104.7 72 106 73.3 106 75 C 106 76.7 104.7 78 103 78 L 25 78 C 23.3 78 22 76.7 22 75 C 22 73.3 23.3 72 25 72 z M 31.699219 84 L 96.199219 84 L 92.099609 114.90039 C 91.599609 118.40039 88.699219 121 85.199219 121 L 42.800781 121 C 39.300781 121 36.300781 118.40039 35.800781 114.90039 L 31.699219 84 z"/></svg></div>
          <div class="card-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="250px" height="250px"><path d="M 42.34375 -0.0625 C 42.164063 -0.0546875 41.964844 -0.0273438 41.78125 0 C 41.046875 0.109375 40.277344 0.410156 39.65625 1.03125 C 39.53125 1.164063 39.429688 1.308594 39.34375 1.46875 C 39.34375 1.46875 39.128906 1.84375 38.9375 2.34375 C 38.746094 2.84375 38.296875 3.457031 38.75 4.75 C 39.332031 6.402344 41.09375 10.878906 41.96875 15.6875 C 42.84375 20.496094 42.589844 25.222656 40.34375 27.46875 C 38.324219 29.488281 34 30.625 34 30.625 C 33.621094 30.703125 33.273438 30.886719 33 31.15625 L 31.15625 33 C 30.886719 33.273438 30.703125 33.621094 30.625 34 C 30.625 34 29.5625 38.28125 27.46875 40.375 C 24.75 43.09375 20.160156 43.300781 15.5625 42.4375 C 10.964844 41.574219 6.714844 39.714844 5.21875 39.0625 C 3.996094 38.527344 2.628906 38.828125 1.625 39.65625 L 1.59375 39.59375 C 1.59375 39.59375 1.433594 39.734375 1.375 39.78125 C 1.363281 39.792969 1.355469 39.800781 1.34375 39.8125 C 1.0625 40.050781 0.492188 40.589844 0.1875 41.59375 C -0.199219 42.871094 0.136719 44.644531 1.4375 46.25 C 2.128906 47.113281 3.386719 47.253906 4.25 46.5625 C 5.113281 45.871094 5.253906 44.613281 4.5625 43.75 C 3.945313 42.988281 4.097656 42.941406 4.125 42.90625 C 5.835938 43.652344 9.941406 45.460938 14.8125 46.375 C 19.988281 47.347656 26.148438 47.351563 30.3125 43.1875 C 33.300781 40.199219 34.15625 36.390625 34.34375 35.46875 L 35.46875 34.34375 C 36.359375 34.15625 40.222656 33.28125 43.1875 30.3125 C 47.105469 26.398438 46.835938 20.265625 45.875 14.96875 C 44.972656 10 43.332031 5.660156 42.71875 3.96875 C 43.09375 4.074219 43.691406 4.503906 43.59375 4.40625 C 44.074219 5.003906 44.851563 5.273438 45.597656 5.101563 C 46.347656 4.929688 46.929688 4.347656 47.101563 3.597656 C 47.273438 2.851563 47.003906 2.074219 46.40625 1.59375 C 45.710938 0.898438 44.953125 0.441406 43.8125 0.125 C 43.386719 0.00390625 42.886719 -0.0820313 42.34375 -0.0625 Z M 37.03125 5.875 L 5.78125 37.125 C 5.863281 37.15625 5.953125 37.183594 6.03125 37.21875 C 6.457031 37.40625 6.863281 37.578125 7.28125 37.75 L 37.59375 7.4375 C 37.445313 7.011719 37.285156 6.570313 37.125 6.125 Z"/></svg></div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import ProgressBar from "./elements/ProgressBar.vue"
import store from "../TodosStore.js"
import { mapState } from 'vuex'

export default {
  components: { ProgressBar },
  store,
  data() {
    return {

    }
  },
  computed: {
    envValue() {
      return this.environmentManager.environmentvalue
    },
    roundValue() {
      return this.roundManager.round
    },
    player() {
      return this.roundManager.individualRoundPlayer.player.name;
    },
    ...mapState(["environmentManager","roundManager","isStart"])
  }
}
</script>


<style lang="scss">

.play-page {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 5px 10px;
  box-sizing: border-box;

  .play-header {
    display: flex;
    flex-direction: row;
  }
  .play-header, .play-footer {
    flex-shrink: 0;
    padding: 10px 0;

    .bars {
      flex: 1;
    }

    .round-number {
      flex-shrink: 0;
      font-size: 3em;
      color: white;
      padding: 10px 15px;
    }

  }

  .play-title {
    color: white;
    text-align: center;
    font-size: 1.5em;
    font-weight: 200;
  }


  .content {
    flex: 1;
  }
}

.biome-box {
  .biome-info {
    text-align: center;
    color: white;
  }
  .card-box {
    display: flex;
    flex-direction: row;
    justify-content: center;
    margin: 0 auto;

    .card-item {
      height: 48px;
      width: 48px;
      margin: 2px;
      background-color: white;
      display: flex;
      align-items: center;
      justify-content: center;

      svg {
        height: 70%;
        width: 70%;

      }
    }
  }
}
</style>
